<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>欢迎进行九型人格测试</title>
<script src="script/jquery-1.3.2.min.js"></script>
<script>
	$(function(){
		$('input[name=loginname]').blur(function(){
			var loginname = $.trim(this.value)
			if(loginname){
				var $tipTd = $(this).parent().next();
				$.post('user/validate.action', {loginname: loginname}, function(rv){
					if(rv == 'true'){//用户名可用
						$tipTd.removeClass().addClass('correct').html('用户名可用');
					}else{
						$tipTd.removeClass().addClass('failure').html('用户名已被使用');
					}			
				});
			}		
		});
	});
</script>
<style>
	p{
		width:80%;
		margin:30px auto;
		color:grey;
	}
	table {
		border:1px solid olive;
	}
	td {
		border:0;
	}
	tr {
		height:30px;
	}
	td.correct {
		background-color:green;
		color:#fff;
	}
	td.failure {
		background-color:red;
		color:#fff;
	}
</style>
</head>
<body>
	<form action="user/add.action" method="post">
		<table width="500" align="center">
			<tr>
				<th colspan="3">注册</th>
			</tr>
			<tr>
				<td align="right">登录名：</td>
				<td><input type="text" name="loginname"/></td>
				<td></td>
			</tr>
			<tr>
				<td align="right">登录密码：</td>
				<td><input type="text" name="loginpass"/></td>
				<td></td>
			</tr>
			<tr>
				<td align="right">真实姓名：</td>
				<td><input type="text" name="uname"/></td>
				<td></td>
			</tr>
			<tr>
				<td colspan="3" align="center">
					<input type="reset" value="重置"/>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					&nbsp;&nbsp;&nbsp;&nbsp;
					<input type="submit" value="提交"/>
				</td>
			</tr>		
		</table>
	</form>
</body>
</html>